# -----------------------------------------------------------------
# Starts all servers and components to connect to Google Assistant
# -----------------------------------------------------------------

# Setup
Download the Google Assistant CLI (https://developers.google.com/actions/tools/gactions-cli) and
copy the file (gactions) at the root of the project directory.

chmod +x gactions



# 1- Start the Rasa server on port 5004
chatbot$ rasa run --enable-api -p 5004

# 2a- Start ngrok
chatbot$ ~/ngrok http 5004

# 2b- copy the url generated by ngrok in action.json
"url": "https://6e6cbd00.ngrok.io/webhooks/google_assistant/webhook"

# 3- Start the Rasa action server
chatbot$ rasa run actions

# 4- Deploy my custom Google Assistant Action and enable testing
chatbot$ ./gactions update --action_package action.json --project madame-laprise

Your app for the Assistant for project madame-laprise was successfully updated with your actions.
Visit the Actions on Google console to finish registering your app and
submit it for review at https://console.actions.google.com/project/madame-laprise/overview

chatbot$ ./gactions test --action_package action.json --project madame-laprise

Pushing the app for the Assistant for testing...
Your app for the Assistant for project madame-laprise is now ready for testing on Actions on
Google enabled devices or the Actions Web Simulator at
https://console.actions.google.com/project/madame-laprise/simulator/

# 5- Open the web simulator in a browser
https://console.actions.google.com/project/madame-laprise/simulator/
